<!DOCTYPE html>
<!-- Contributor: Jeremy -->
<html>
	<head>
		<meta charset="UTF-8">
		<title>bwiSEATER My Classes</title>
		<link rel="stylesheet" type="text/css" title="Preffered" href="styles/styles1.css">
		<link rel="stylesheet" type="text/css" title="Alternate" href="styles/styles2.css">
	</head>
	<body>
		<!-- Contributor: Ramel Laigo -->
		<header id="banner">
			<div id="template">
				<img src="images/1.png" alt="profile">
				<label id="instructor">Instructors Name</label>
				<a href="index.html"><img src="images/3.png" alt="signout"></a>
			</div>
		</header>

		<nav id="navigate">
			<ul>
				<li><a href="MyClasses.html" id="myClassesLink">My Classes</a></li>
				<li><a href="create-class.html" id = "createClassLink">Create Class</a></li>
			</ul>
		</nav>
		<!--End of Ramel Laigo's contribution -->

		<main id="content">
			<h1>My Classes</h1>
			<table id= "classesTable">
				<th>Classcode</th>
				<th>Descriptive Title</th>
				<th>Schedule</th>
				<th>Number of Students</th>
				<th>Room</th>
				<th>Student Record</th>
			</table>
		</main>
		
		<!-- Contributor: Ramel Laigo -->
		<footer>
			&copy; 2015 Group #7
			<br>All rights reserved.
			<hr>
			<div>
				<label>Feeling bored in the theme? Choose here:</label>
				<button onclick="swapStyleSheet('styles/styles1.css')">Preferred</button>
				<button onclick="swapStyleSheet('styles/styles2.css')">Alternate</button>
			</div>
		</footer>
		<!--End of Ramel Laigo's contribution -->
	</body>
	<script type="text/javascript">
		// Contributor: Ramel Laigo
		/*for swapping stylesheet*/
		function swapStyleSheet(sheet){
			document.getElementById('pagestyle').setAttribute('href', sheet);
		}
		// End of Ramel Laigo's contribution

		// Contributor: Jeremy
		/*
		var preEl ;
		var orgBColor;
		var orgTColor;
		function HighLightTR(el, backColor,textColor){
		  if(typeof(preEl)!='undefined') {
		     preEl.bgColor=orgBColor;
		     try{ChangeTextColor(preEl,orgTColor);}catch(e){;}
		  }
		  orgBColor = el.bgColor;
		  orgTColor = el.style.color;
		  el.bgColor=backColor;

		  try{ChangeTextColor(el,textColor);}catch(e){;}
		  preEl = el;
		}


		function ChangeTextColor(a_obj,a_color){  ;
		   for (i=0;i<a_obj.cells.length;i++)
		    a_obj.cells(i).style.color=a_color;
		}

		function selectRow(row) {
		    if (row.className.indexOf("selected") != -1) {
		        row.className = row.className.replace("selected", "");
		    } else {
		        row.className += " selected";
		    }
		}

		function deleteRow(classesTable) {
		    try {
		        var table = document.getElementById(classesTable);
		        var rowCount = table.rows.length;
		        for (var i = 0; i < rowCount; i++) {
		            var row = table.rows[i];

		            if (row.getElementsByTagName("input")[0].className.indexOf("selected")!=-1) {
		                if (rowCount <= 1) {
		                    alert("Cannot delete all the rows.");
		                    break;
		                }
		                table.deleteRow(i);
		                rowCount--;
		                i--;
		            }
		        }
		    } catch (e) {
		        alert(e);
		    }
		}
		*/
		// End of Jeremy contribution -->

		//Contributor: Bassanio C. Tello Jr.
		var username = window.location.hash.substring(1);
		document.getElementById('instructor').innerHTML = username;

		var bwiseater = JSON.parse(localStorage.getItem("bwiseater"));
		var account;
		for(var x = 0; x< bwiseater.accounts.length; x++){
			if(bwiseater.accounts[x].username == username){
				account = bwiseater.accounts[x];
				break;
			}
		}
		changeLinks();
		function changeLinks(){
			document.getElementById('myClassesLink').href="MyClasses.html#" + username;
			document.getElementById('createClassLink').href="create-class.html#" + username;
		}
		var table = document.getElementById('classesTable');
		for(var x = 0; x < account.uniclasses.length; x++){
			var row = document.createElement("tr");
			var col1 = document.createElement("td");
			var link = document.createElement("a");
			link.href = "attendanceChecker.html#" + username + "&" + account.uniclasses[x].classcode;;
			link.innerHTML = account.uniclasses[x].classcode;
			col1.appendChild(link);

			var col2 = document.createElement("td");
			col2.innerHTML = account.uniclasses[x].room;
			var col3 = document.createElement("td");
			col3.innerHTML = account.uniclasses[x].sched;
			var col4 = document.createElement("td");
			col4.innerHTML = account.uniclasses[x].numOfStud;
			var col5 = document.createElement("td");
			var recLink = document.createElement("a");
			recLink.href = "studrec.html#" + username + "&" + account.uniclasses[x].classcode;
			recLink.innerHTML = "View";
			var col6 = document.createElement("td");
			col6.innerHTML = account.uniclasses[x].descriptiveTitle;

			col5.appendChild(recLink);
			row.appendChild(col1);
			row.appendChild(col6);
			row.appendChild(col3);
			row.appendChild(col4);
			row.appendChild(col2);
			row.appendChild(col5);	
			table.appendChild(row);
		}



		//End of Bassanio C. Tello Jr's Contribution
	</script>
</html>
